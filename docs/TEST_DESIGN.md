# ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸ (Test Design Specification)

> ä½œæˆæ—¥: 2026-02-21  
> ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.0  
> å¯¾è±¡ã‚¢ãƒ—ãƒª: Focuso (React + TypeScript + Vite + Zustand)  
> ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯: Vitest + happy-dom

---

## 1. ãƒ†ã‚¹ãƒˆæ–¹é‡

### 1.1 ç›®çš„

æœ¬è¨­è¨ˆæ›¸ã¯ Focuso ã«ãŠã‘ã‚‹ã€Œè¿½åŠ ã™ã¹ããƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã€ã®è¨­è¨ˆæŒ‡é‡ã‚’ç¤ºã™ã€‚  
ãƒ†ã‚¹ãƒˆã¯**ä»•æ§˜ã®ä¿¡é ¼ã§ãã‚‹å®Ÿè¡Œå¯èƒ½ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**ã¨ã—ã¦æ©Ÿèƒ½ã™ã‚‹ã“ã¨ã‚’ç›®æ¨™ã¨ã—ã€  
ä»¥ä¸‹ã®å„ªå…ˆé †ä½ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ã‚’æ‹¡å¤§ã™ã‚‹ã€‚

```
å„ªå…ˆåº¦ High   : ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆã‚¹ãƒˆã‚¢ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ï¼‰
å„ªå…ˆåº¦ Medium : UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆè¡¨ç¤ºãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œï¼‰
å„ªå…ˆåº¦ Low    : ã‚³ãƒ³ãƒ†ãƒŠï¼ˆé…ç·šã®ã¿ãƒ»E2E ã§ã‚«ãƒãƒ¼ãŒæœ›ã¾ã—ã„ï¼‰
```

### 1.2 ãƒ†ã‚¹ãƒˆç¨®åˆ¥ã¨é©ç”¨ç¯„å›²

| ç¨®åˆ¥            | å¯¾è±¡                                     | ãƒ„ãƒ¼ãƒ«              | ç²’åº¦                  |
| --------------- | ---------------------------------------- | ------------------- | --------------------- |
| **Unit**        | ã‚¹ãƒˆã‚¢ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»ãƒ•ãƒƒã‚¯ | Vitest              | é–¢æ•°/ãƒ¡ã‚½ãƒƒãƒ‰å˜ä½     |
| **Component**   | Viewã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ                       | Vitest + createRoot | render + ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ |
| **Integration** | ã‚³ãƒ³ãƒ†ãƒŠ (store â†” View)                  | Vitest              | çœç•¥å¯ï¼ˆE2E æ¨å¥¨ï¼‰    |

### 1.3 ãƒ¢ãƒƒã‚¯æˆ¦ç•¥

```
å¤–éƒ¨ä¾å­˜ï¼ˆé€šçŸ¥ãƒ»ãƒ­ã‚°ãƒ»APIãƒ»éŸ³å£°èªè­˜ï¼‰â†’ vi.mock / vi.stubGlobal ã§ã‚¹ã‚¿ãƒ–
UIãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆshadcn/Radixï¼‰       â†’ æœ€å°HTMLã«ç½®ãæ›ãˆã‚‹ãƒ¢ãƒƒã‚¯
ã‚¿ã‚¤ãƒãƒ¼/æ—¥ä»˜                        â†’ vi.useFakeTimers / vi.spyOn(Date, 'now')
Zustandã‚¹ãƒˆã‚¢                        â†’ setState ã§ç›´æ¥åˆæœŸåŒ–ï¼ˆbeforeEachï¼‰
```

### 1.4 å‘½åè¦ç´„

- ãƒ•ã‚¡ã‚¤ãƒ«: `{å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«å}.test.ts(x)`
- ãƒ†ã‚¹ãƒˆå: æ—¥æœ¬èªã§ã€Œã€‡ã€‡ã®ã¨ãã€‡ã€‡ã«ãªã‚‹ï¼ˆã™ã‚‹ï¼‰ã€
- `describe` éšå±¤: `å¯¾è±¡ > ãƒ¡ã‚½ãƒƒãƒ‰/æ©Ÿèƒ½ > ã‚±ãƒ¼ã‚¹`

---

## 2. æœªãƒ†ã‚¹ãƒˆé ˜åŸŸã®è¨­è¨ˆ

### 2.1 `notification-manager.ts`
**å„ªå…ˆåº¦**: Medium

#### è¨­è¨ˆæ„å›³
`notificationManager` ã¯ã‚¢ãƒ—ãƒªå…¨ä½“ã®é€šçŸ¥ API ã®æŠ½è±¡åŒ–ãƒ¬ã‚¤ãƒ¤ãƒ¼ã§ã‚ã‚Šã€  
ã‚¹ãƒˆã‚¢ã‹ã‚‰å‘¼ã°ã‚Œã‚‹å‰¯ä½œç”¨ã®å…¥å£ã€‚ãƒ¢ãƒƒã‚¯ã§ã¯ãªãå®Ÿè£…è‡ªä½“ã®ãƒ†ã‚¹ãƒˆãŒå¿…è¦ã€‚

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('notificationManager', () => {
  describe('ensureInitialized()', () => {
    TC-NM-01: Notification.permission = 'default' ã®ã¨ã requestPermission ãŒå‘¼ã°ã‚Œã‚‹
    TC-NM-02: Notification.permission = 'granted' ã®ã¨ã requestPermission ãŒå‘¼ã°ã‚Œãªã„
    TC-NM-03: Notification API éå¯¾å¿œæ™‚ï¼ˆwindow.Notification ãªã—ï¼‰ã§ã‚‚ throw ã—ãªã„
  })

  describe('notify()', () => {
    TC-NM-04: permission = 'granted' ã®ã¨ã new Notification() ãŒå‘¼ã°ã‚Œã‚‹
    TC-NM-05: permission = 'denied' ã®ã¨ã new Notification() ãŒå‘¼ã°ã‚Œãªã„
    TC-NM-06: title ã¨ body ãŒ Notification ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã¸æ¸¡ã•ã‚Œã‚‹
  })
})
```

---

### 2.2 `meeting-report-store.ts`
**å„ªå…ˆåº¦**: High

#### è¨­è¨ˆæ„å›³
ä¼šè­°ãƒ¬ãƒãƒ¼ãƒˆã®ç”Ÿæˆãƒ»ä¿å­˜ã¯ REQ-5.4 ã®è¦ä»¶ã€‚  
ã‚¹ãƒˆã‚¢ã®ãƒŸãƒ¥ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å…¨ä½“ã‚’ã‚«ãƒãƒ¼ã™ã‚‹ã€‚

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('useMeetingReportStore', () => {
  describe('createReport()', () => {
    TC-MR-01: ä¼šè­°ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ MeetingReport ã‚’ç”Ÿæˆã§ãã‚‹
    TC-MR-02: ç”Ÿæˆã•ã‚ŒãŸãƒ¬ãƒãƒ¼ãƒˆã« idãƒ»createdAt ãŒä»˜ä¸ã•ã‚Œã‚‹
    TC-MR-03: åŒä¸€ä¼šè­°ã®å†ç”Ÿæˆã§ãƒ¬ãƒãƒ¼ãƒˆãŒä¸Šæ›¸ãã•ã‚Œã‚‹
  })

  describe('updateReport()', () => {
    TC-MR-04: summary / decisions / nextActions ã‚’æ›´æ–°ã§ãã‚‹
    TC-MR-05: todos ã‚’è¿½åŠ ãƒ»æ›´æ–°ãƒ»å‰Šé™¤ã§ãã‚‹
    TC-MR-06: participants ãƒªã‚¹ãƒˆã‚’æ›´æ–°ã§ãã‚‹
  })

  describe('deleteReport()', () => {
    TC-MR-07: æŒ‡å®š ID ã®ãƒ¬ãƒãƒ¼ãƒˆã‚’å‰Šé™¤ã§ãã‚‹
    TC-MR-08: æœªçŸ¥ ID ã®å‰Šé™¤ã§ throw ã—ãªã„
  })

  describe('getReportByMeetingId()', () => {
    TC-MR-09: meetingId ã«ä¸€è‡´ã™ã‚‹ãƒ¬ãƒãƒ¼ãƒˆã‚’è¿”ã™
    TC-MR-10: å­˜åœ¨ã—ãªã„ meetingId ã«ã¯ undefined ã‚’è¿”ã™
  })
})
```

---

### 2.3 `new-agenda-timer-store.ts`
**å„ªå…ˆåº¦**: High  

> âš ï¸ ã“ã®ã‚¹ãƒˆã‚¢ã®å†…å®¹ã‚’å…ˆã«ç¢ºèªã—ã€`agenda-timer-store.ts` ã¨ã®é‡è¤‡ãŒ  
> ãªã„ã‹èª¿æŸ»ã—ãŸã†ãˆã§è¨­è¨ˆã™ã‚‹ï¼ˆåŒä¸€è²¬å‹™ã®å ´åˆã¯å‰Šé™¤ã‚’æ¤œè¨ï¼‰ã€‚

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆï¼ˆä»®ï¼‰

```
describe('useNewAgendaTimerStore', () => {
  TC-NA-01: æ—¢å­˜ agenda-timer-store ã¨åŒç­‰ã® CRUD ãŒã§ãã‚‹ï¼ˆã¾ãŸã¯åˆ©ç”¨ã•ã‚Œã¦ã„ãªã„å ´åˆã¯å‰Šé™¤ç¢ºèªï¼‰
})
```

---

### 2.4 `BasicTimerView.tsx`
**å„ªå…ˆåº¦**: Medium

#### è¨­è¨ˆæ„å›³
ã‚¿ã‚¤ãƒãƒ¼ã®è¡¨ç¤ºçŠ¶æ…‹ã¨ãƒœã‚¿ãƒ³æ“ä½œã‚’æ¤œè¨¼ã™ã‚‹ã€‚  
ã‚¹ãƒˆã‚¢ã¯ `resetBasicTimerStore()` ã§ãƒªã‚»ãƒƒãƒˆã—ã€ãƒ¢ãƒƒã‚¯ãªã—ã§ä½¿ç”¨ã™ã‚‹ã€‚

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('BasicTimerView', () => {
  describe('è¡¨ç¤º', () => {
    TC-BV-01: åˆæœŸçŠ¶æ…‹ã§æ®‹ã‚Šæ™‚é–“ "25:00" ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-BV-02: isRunning=false ã®ã¨ãã€Œé–‹å§‹ã€ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-BV-03: isRunning=true ã®ã¨ãã€Œä¸€æ™‚åœæ­¢ã€ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-BV-04: isPaused=true ã®ã¨ãã€Œå†é–‹ã€ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-BV-05: å®Œäº†æ™‚ã«å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  })
  describe('æ“ä½œ', () => {
    TC-BV-06: ã€Œé–‹å§‹ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ timer.start() ãŒå‘¼ã°ã‚Œã‚‹
    TC-BV-07: ã€Œä¸€æ™‚åœæ­¢ã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ timer.pause() ãŒå‘¼ã°ã‚Œã‚‹
    TC-BV-08: ã€Œãƒªã‚»ãƒƒãƒˆã€ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã§ timer.reset() ãŒå‘¼ã°ã‚Œã‚‹
    TC-BV-09: ã€Œæ™‚é–“è¨­å®šã€å…¥åŠ›ã§ setDuration() ãŒå‘¼ã°ã‚Œã‚‹
  })
  describe('å±¥æ­´', () => {
    TC-BV-10: showHistory=true ã®ã¨ãå±¥æ­´ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-BV-11: å±¥æ­´ãŒç©ºã®ã¨ãã€Œå±¥æ­´ãªã—ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  })
})
```

---

### 2.5 `EnhancedPomodoroTimerView.tsx`
**å„ªå…ˆåº¦**: Medium

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('EnhancedPomodoroTimerView', () => {
  describe('ãƒ•ã‚§ãƒ¼ã‚ºè¡¨ç¤º', () => {
    TC-PV-01: currentPhase='work' ã®ã¨ãã€Œä½œæ¥­ã€ãƒ©ãƒ™ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-PV-02: currentPhase='short-break' ã®ã¨ãã€ŒçŸ­ä¼‘æ†©ã€ãƒ©ãƒ™ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-PV-03: currentPhase='long-break' ã®ã¨ãã€Œé•·ä¼‘æ†©ã€ãƒ©ãƒ™ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-PV-04: æ®‹ã‚Šæ™‚é–“ãŒæ­£ã—ããƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆä¾‹: "24:59"ï¼‰
  })
  describe('æ“ä½œ', () => {
    TC-PV-05: ã€Œé–‹å§‹ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.start() ãŒå‘¼ã°ã‚Œã‚‹
    TC-PV-06: ã€Œä¸€æ™‚åœæ­¢ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.pause() ãŒå‘¼ã°ã‚Œã‚‹
    TC-PV-07: ã€Œãƒªã‚»ãƒƒãƒˆã€ã‚¯ãƒªãƒƒã‚¯ã§ store.reset() ãŒå‘¼ã°ã‚Œã‚‹
    TC-PV-08: ã‚¿ã‚¹ã‚¯åå…¥åŠ›ã§ store.setTaskName() ãŒå‘¼ã°ã‚Œã‚‹
  })
  describe('è¨­å®š', () => {
    TC-PV-09: è¨­å®šãƒ‘ãƒãƒ«é–‹é–‰ãŒã§ãã‚‹
    TC-PV-10: ä½œæ¥­æ™‚é–“ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼å¤‰æ›´ã§ store.updateSettings() ãŒå‘¼ã°ã‚Œã‚‹
  })
  describe('çµ±è¨ˆ', () => {
    TC-PV-11: todayStats ã®å®Œäº†ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­æ•°ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-PV-12: åŠ¹ç‡ï¼ˆefficiencyï¼‰ãŒãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆè¡¨ç¤ºã•ã‚Œã‚‹
  })
})
```

---

### 2.6 `MultiTimerView.tsx`
**å„ªå…ˆåº¦**: Medium

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('MultiTimerView', () => {
  describe('ã‚¿ã‚¤ãƒãƒ¼ä¸€è¦§', () => {
    TC-MV-01: timers ãŒç©ºã®ã¨ãã€Œã‚¿ã‚¤ãƒãƒ¼ãªã—ã€ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-MV-02: ã‚¿ã‚¤ãƒãƒ¼ã‚«ãƒ¼ãƒ‰ãŒ timers ã®æ•°ã ã‘è¡¨ç¤ºã•ã‚Œã‚‹
  })
  describe('å€‹åˆ¥ã‚¿ã‚¤ãƒãƒ¼æ“ä½œ', () => {
    TC-MV-03: ã€Œé–‹å§‹ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.startTimer(id) ãŒå‘¼ã°ã‚Œã‚‹
    TC-MV-04: ã€Œä¸€æ™‚åœæ­¢ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.pauseTimer(id) ãŒå‘¼ã°ã‚Œã‚‹
    TC-MV-05: ã€Œåœæ­¢ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.stopTimer(id) ãŒå‘¼ã°ã‚Œã‚‹
    TC-MV-06: ã€Œè¤‡è£½ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.duplicateTimer(id) ãŒå‘¼ã°ã‚Œã‚‹
    TC-MV-07: ã€Œå‰Šé™¤ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.deleteTimer(id) ãŒå‘¼ã°ã‚Œã‚‹
  })
  describe('å…¨ä½“æ“ä½œ', () => {
    TC-MV-08: ã€Œå…¨é–‹å§‹ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.startAllTimers() ãŒå‘¼ã°ã‚Œã‚‹
    TC-MV-09: ã€Œå…¨åœæ­¢ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.stopAllTimers() ãŒå‘¼ã°ã‚Œã‚‹
  })
  describe('è¿½åŠ ãƒ•ã‚©ãƒ¼ãƒ ', () => {
    TC-MV-10: åå‰ãƒ»æ™‚é–“ãƒ»ã‚«ãƒ†ã‚´ãƒªå…¥åŠ›å¾Œã€Œè¿½åŠ ã€ã‚¯ãƒªãƒƒã‚¯ã§ addTimer ãŒå‘¼ã°ã‚Œã‚‹
    TC-MV-11: åå‰ãŒç©ºã®ã¨ãã€Œè¿½åŠ ã€ãƒœã‚¿ãƒ³ãŒ disabled
  })
  describe('å®Œäº†è¡¨ç¤º', () => {
    TC-MV-12: isCompleted=true ã®ã‚¿ã‚¤ãƒãƒ¼ã«å®Œäº†ãƒãƒƒã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  })
})
```

---

### 2.7 `AgendaTimerView.tsx`
**å„ªå…ˆåº¦**: Medium-Highï¼ˆã‚¢ã‚¸ã‚§ãƒ³ãƒ€ã‚¿ã‚¤ãƒãƒ¼ã¯ã‚³ã‚¢æ©Ÿèƒ½ï¼‰

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('AgendaTimerView', () => {
  describe('ä¼šè­°ãªã—çŠ¶æ…‹', () => {
    TC-AV-01: currentMeeting=null ã®ã¨ãã€Œä¼šè­°ã‚’ä½œæˆã€ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
  })
  describe('ã‚¢ã‚¸ã‚§ãƒ³ãƒ€ä¸€è¦§', () => {
    TC-AV-02: ã‚¢ã‚¸ã‚§ãƒ³ãƒ€ãƒªã‚¹ãƒˆãŒ agenda ã®ä»¶æ•°åˆ†è¡¨ç¤ºã•ã‚Œã‚‹
    TC-AV-03: ç¾åœ¨è­°é¡ŒãŒãƒã‚¤ãƒ©ã‚¤ãƒˆï¼ˆcurrentï¼‰è¡¨ç¤ºã•ã‚Œã‚‹
    TC-AV-04: å®Œäº†æ¸ˆã¿è­°é¡Œã« "completed" ãƒãƒ¼ã‚«ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã‚‹
    TC-AV-05: overtime ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®è­°é¡Œã«è¶…éãƒãƒƒã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  })
  describe('ã‚¿ã‚¤ãƒãƒ¼æ“ä½œ', () => {
    TC-AV-06: ã€Œé–‹å§‹ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.startTimer() ãŒå‘¼ã°ã‚Œã‚‹
    TC-AV-07: ã€Œåœæ­¢ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.stopTimer() ãŒå‘¼ã°ã‚Œã‚‹
    TC-AV-08: ã€Œæ¬¡ã®è­°é¡Œã€ã‚¯ãƒªãƒƒã‚¯ã§ store.nextAgenda() ãŒå‘¼ã°ã‚Œã‚‹
    TC-AV-09: isRunning=true ã®ã¨ãã€Œæ¬¡ã®è­°é¡Œã€ãƒœã‚¿ãƒ³ãŒ disabled
  })
  describe('è­°äº‹éŒ²', () => {
    TC-AV-10: ã‚¢ã‚¸ã‚§ãƒ³ãƒ€è¡Œã‚¯ãƒªãƒƒã‚¯ã§è­°äº‹éŒ²ã‚¨ãƒªã‚¢ãŒå±•é–‹ã™ã‚‹
    TC-AV-11: è­°äº‹éŒ²ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ›´ã§ store.updateAgendaMinutes() ãŒå‘¼ã°ã‚Œã‚‹
  })
})
```

---

### 2.8 `MeetingReportDialog.tsx`
**å„ªå…ˆåº¦**: Medium

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('MeetingReportDialog', () => {
  TC-RD-01: isOpen=false ã®ã¨ããƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œãªã„
  TC-RD-02: isOpen=true ã®ã¨ãä¼šè­°ã‚¿ã‚¤ãƒˆãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-RD-03: å‚åŠ è€…ãƒªã‚¹ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-RD-04: ã‚¢ã‚¸ã‚§ãƒ³ãƒ€é …ç›®ãŒ actual/planned æ™‚é–“ã¨ã¨ã‚‚ã«è¡¨ç¤ºã•ã‚Œã‚‹
  TC-RD-05: è¶…éã‚¢ã‚¸ã‚§ãƒ³ãƒ€ãŒèµ¤ãƒã‚¤ãƒ©ã‚¤ãƒˆã§è¡¨ç¤ºã•ã‚Œã‚‹
  TC-RD-06: ã€ŒAI ææ¡ˆå–å¾—ã€ã‚¯ãƒªãƒƒã‚¯ã§ generateMeetingAiAssist ãŒå‘¼ã°ã‚Œã‚‹
  TC-RD-07: AI ææ¡ˆçµæœãŒãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã«åæ˜ ã•ã‚Œã‚‹
  TC-RD-08: ã€ŒæŠ•ç¨¿ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€è¡¨ç¤ºã§ buildPostPreviewMarkdown ãŒå‘¼ã°ã‚Œã‚‹
  TC-RD-09: ã€Œé–‰ã˜ã‚‹ã€ã‚¯ãƒªãƒƒã‚¯ã§ onClose ãŒå‘¼ã°ã‚Œã‚‹
})
```

---

### 2.9 `MeetingReportHistory.tsx`
**å„ªå…ˆåº¦**: Low

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('MeetingReportHistory', () => {
  TC-RH-01: reports ãŒç©ºã®ã¨ãã€Œå±¥æ­´ãªã—ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-RH-02: å„ãƒ¬ãƒãƒ¼ãƒˆã«ä¼šè­°ã‚¿ã‚¤ãƒˆãƒ«ã¨æ—¥æ™‚ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-RH-03: ãƒ¬ãƒãƒ¼ãƒˆè¡Œã‚¯ãƒªãƒƒã‚¯ã§è©³ç´°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼ˆã¾ãŸã¯ MeetingReportDialog ãŒé–‹ãï¼‰
})
```

---

### 2.10 `SettingsDialog.tsx`
**å„ªå…ˆåº¦**: Low-Medium

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('SettingsDialog', () => {
  TC-SD-01: isOpen=false ã®ã¨ããƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œãªã„
  TC-SD-02: GitHub PAT å…¥åŠ›æ¬„ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-SD-03: PAT å…¥åŠ›å¾Œã€Œä¿å­˜ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.setGithubPat() ãŒå‘¼ã°ã‚Œã‚‹
  TC-SD-04: AI ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼é¸æŠã‚»ãƒ¬ã‚¯ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-SD-05: AI è¨­å®šä¿å­˜ã§ store.setAiProviderConfig() ãŒå‘¼ã°ã‚Œã‚‹
  TC-SD-06: ä¸æ­£ãª AI è¨­å®šã§ä¿å­˜ãƒœã‚¿ãƒ³ãŒ disabledï¼ˆã¾ãŸã¯ã‚¨ãƒ©ãƒ¼è¡¨ç¤ºï¼‰
})
```

---

### 2.11 `GitHubIssueLinking.tsx`
**å„ªå…ˆåº¦**: Medium

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('GitHubIssueLinking', () => {
  TC-GL-01: timeLogId ã«ç´ã¥ããƒªãƒ³ã‚¯ä¸€è¦§ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-GL-02: ã€Œãƒªãƒ³ã‚¯è¿½åŠ ã€ãƒ•ã‚©ãƒ¼ãƒ ã§ owner/repo/issueNumber ã‚’å…¥åŠ›ã§ãã‚‹
  TC-GL-03: ã€Œè¿½åŠ ã€ã‚¯ãƒªãƒƒã‚¯ã§ fetchGitHubIssue ãŒå‘¼ã°ã‚Œã€æˆåŠŸå¾Œ store.addLink() ãŒå‘¼ã°ã‚Œã‚‹
  TC-GL-04: ã€Œè¿½åŠ ã€ã‚¯ãƒªãƒƒã‚¯ã§ 404 ã‚¨ãƒ©ãƒ¼æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-GL-05: ã€Œå‰Šé™¤ã€ã‚¯ãƒªãƒƒã‚¯ã§ store.removeLink() ãŒå‘¼ã°ã‚Œã‚‹
})
```

---

### 2.12 `TimerHistory.tsx`
**å„ªå…ˆåº¦**: Low

#### ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹è¨­è¨ˆ

```
describe('TimerHistory', () => {
  TC-TH-01: å±¥æ­´ãŒç©ºã®ã¨ãã€Œå±¥æ­´ãªã—ã€ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-TH-02: å„ã‚¨ãƒ³ãƒˆãƒªã® duration / label / æ—¥æ™‚ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-TH-03: completed=true ã®ã‚¨ãƒ³ãƒˆãƒªã«å®Œäº†ãƒãƒ¼ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  TC-TH-04: completed=false ã®ã‚¨ãƒ³ãƒˆãƒªã«æœªå®Œäº†ãƒãƒ¼ã‚¯ãŒè¡¨ç¤ºã•ã‚Œã‚‹
})
```

---

## 3. æ—¢å­˜ãƒ†ã‚¹ãƒˆã®æ‹¡å……ï¼ˆGap ã®è£œå®Œï¼‰

### 3.1 `basic-timer-store.ts` ã®è¿½åŠ ã‚±ãƒ¼ã‚¹
**å„ªå…ˆåº¦**: Medium

```
TC-BS-04: setDuration ã§duration ã¨ remainingTime ãŒåŒæ™‚ã«æ›´æ–°ã•ã‚Œã‚‹
TC-BS-05: setLabel ã§ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ©ãƒ™ãƒ«ã‚’è¨­å®šã§ãã‚‹
TC-BS-06: showHistory / showSettings ã®ãƒˆã‚°ãƒ«ãŒå‹•ä½œã™ã‚‹
TC-BS-07: å®Ÿè¡Œä¸­ã« setDuration ã‚’å‘¼ã‚“ã§ã‚‚ remainingTime ãŒå¤‰ã‚ã‚‰ãªã„ï¼ˆä»•æ§˜ç¢ºèªè¦ï¼‰
TC-BS-08: isRunning=false ã®ã¨ã tick ã¯ä½•ã‚‚ã—ãªã„
```

---

### 3.2 `pomodoro-store.ts` ã®è¿½åŠ ã‚±ãƒ¼ã‚¹
**å„ªå…ˆåº¦**: Mediumï¼ˆç¾åœ¨ã®ãƒ†ã‚¹ãƒˆã¯ä¸»è¦ãƒ‘ã‚¹ã®ã¿ï¼‰

```
TC-PO-05: long-break-interval ã«é”ã—ãŸã¨ã long-break ãƒ•ã‚§ãƒ¼ã‚ºã¸é·ç§»ã™ã‚‹
TC-PO-06: autoStartWork=true ã®ã¨ãä¼‘æ†©å®Œäº†å¾Œã«è‡ªå‹•ã§ work ãŒé–‹å§‹ã•ã‚Œã‚‹
TC-PO-07: todayStats.completedPomodoros ãŒ work å®Œäº†ã”ã¨ã«å¢—åŠ ã™ã‚‹
TC-PO-08: todayStats.totalFocusTime ãŒ work å®Œäº†æ™‚é–“ã‚’ç´¯è¨ˆã™ã‚‹
TC-PO-09: sessions ã«å®Œäº†ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒè¿½åŠ ã•ã‚Œã‚‹ï¼ˆid / startTime / endTimeï¼‰
TC-PO-10: skip() ã§ç¾åœ¨ãƒ•ã‚§ãƒ¼ã‚ºã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¦æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºã¸ç§»ã‚Œã‚‹ï¼ˆskip ãŒå­˜åœ¨ã™ã‚‹å ´åˆï¼‰
```

---

### 3.3 `analytics.ts` ã®è¿½åŠ ã‚±ãƒ¼ã‚¹
**å„ªå…ˆåº¦**: Lowï¼ˆæ—¢å­˜ãŒå……å®Ÿï¼‰

```
TC-AN-25: timerKind=agenda ãƒ•ã‚£ãƒ«ã‚¿ãŒ agenda ã®ã¿ã‚’é›†è¨ˆã™ã‚‹
TC-AN-26: timerKind=multi ãƒ•ã‚£ãƒ«ã‚¿ãŒ multi-timer ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®ã¿ã‚’é›†è¨ˆã™ã‚‹
TC-AN-27: æœˆæ¬¡ç²’åº¦ã§ trend ãŒ 1 ãƒ¶æœˆæœªæº€ã®ç¯„å›²ã§ã‚‚æ­£ã—ã„ãƒ©ãƒ™ãƒ«æ•°ã«ãªã‚‹
```

---

### 3.4 `meeting-ai-assist.ts` ã®è¿½åŠ ã‚±ãƒ¼ã‚¹
**å„ªå…ˆåº¦**: Low

```
TC-MA-02: å…¨ã‚¢ã‚¸ã‚§ãƒ³ãƒ€ãŒäºˆå®šå†…ã®ã¨ã facilitationAssist ã«ã€Œäºˆå®šé€šã‚Šã€ãŒå«ã¾ã‚Œã‚‹
TC-MA-03: å‚åŠ è€… 0 äººã®ã¨ãä¾‹å¤–ã‚’æŠ•ã’ãšãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ–‡ã‚’è¿”ã™
```

---

## 4. ãƒ†ã‚¹ãƒˆå®Ÿè£…ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³

### 4.1 ã‚¹ãƒˆã‚¢ã®ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
// â‘  beforeEach ã§ã‚¹ãƒˆã‚¢ã‚’å›ºå®šåˆæœŸå€¤ã«ãƒªã‚»ãƒƒãƒˆ
beforeEach(() => {
  useXxxStore.setState({ /* åˆæœŸå€¤ */ });
});

// â‘¡ getState() ã§ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å–å¾—ã—ã¦å®Ÿè¡Œ
const store = useXxxStore.getState();
store.someAction(params);

// â‘¢ getState() ã§çµæœã‚’æ¤œè¨¼
expect(useXxxStore.getState().someField).toBe(expected);
```

### 4.2 ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
// â‘  ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ vi.mock ã§ã‚¹ã‚¿ãƒ–ï¼ˆUI ã¯æœ€å° HTML ã«å¤‰æ›ï¼‰
vi.mock('@/components/ui/button', () => ({
  Button: ({ children, onClick, disabled }: any) =>
    <button onClick={onClick} disabled={disabled}>{children}</button>,
}));

// â‘¡ createRoot + act ã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
await act(async () => {
  createRoot(container).render(<TargetView {...props} />);
});

// â‘¢ DOM ã‚¯ã‚¨ãƒªã§æ¤œè¨¼
expect(container.textContent).toContain('æœŸå¾…æ–‡å­—åˆ—');
const btn = container.querySelector('button')!;
expect(btn.disabled).toBe(false);

// â‘£ ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ
await act(async () => { btn.click(); });
expect(mockFn).toHaveBeenCalledWith(expectedArgs);
```

### 4.3 æ™‚é–“ä¾å­˜ãƒ†ã‚¹ãƒˆã®ãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
// vi.useFakeTimers() ã‚’ä½¿ã†å ´åˆ
it('ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå¾Œã«çŠ¶æ…‹ãŒå¤‰ã‚ã‚‹', () => {
  vi.useFakeTimers();
  try {
    store.start();
    vi.advanceTimersByTime(1000);
    expect(store.getState().phase).toBe('break');
  } finally {
    vi.useRealTimers();
  }
});

// Date.now() ã‚’ã‚¹ãƒ‘ã‚¤ã™ã‚‹å ´åˆ
const nowSpy = vi.spyOn(Date, 'now');
nowSpy.mockReturnValue(1000);
store.tick();
nowSpy.mockReturnValue(2000);
store.tick();
nowSpy.mockRestore();
```

### 4.4 è¦ä»¶ç•ªå·ã¨ã®ç´ä»˜ã‘

ãƒ†ã‚¹ãƒˆã‚’ç‰¹å®šã®è¦ä»¶ã¨ç´ä»˜ã‘ã‚‹å ´åˆã¯ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¡ãƒ³ãƒˆã« `// REQ-X.X` ã‚’ä»˜ä¸ã™ã‚‹ã€‚

```typescript
// REQ-5.4
it('ã‚¢ã‚¸ã‚§ãƒ³ãƒ€ãŒæ™‚é–“è¶…éã§overtimeã«ãªã‚‹', () => { ... });
```

---

## 5. ãƒ†ã‚¹ãƒˆå®Ÿè£…å„ªå…ˆé †ä½ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

| å„ªå…ˆåº¦   | å¯¾è±¡                            | ç†ç”±                                       |
| -------- | ------------------------------- | ------------------------------------------ |
| ğŸ”´ High   | `meeting-report-store.ts`       | ã‚³ã‚¢æ©Ÿèƒ½ãƒ»ãƒ†ã‚¹ãƒˆã‚¼ãƒ­                       |
| ğŸ”´ High   | `basic-timer-store.ts` æ‹¡å……     | ã‚«ãƒãƒ¬ãƒƒã‚¸ä¸è¶³ï¼ˆsetDuration/Label/toggleï¼‰ |
| ğŸ”´ High   | `pomodoro-store.ts` æ‹¡å……        | long-break é·ç§»ãƒ»çµ±è¨ˆãƒ»sessions æœªãƒ†ã‚¹ãƒˆ   |
| ğŸŸ¡ Medium | `notification-manager.ts`       | ã‚¹ãƒˆã‚¢å…¨ä½“ãŒä¾å­˜ã—ã¦ã„ã‚‹ãŒå®Ÿè£…æœªãƒ†ã‚¹ãƒˆ     |
| ğŸŸ¡ Medium | `AgendaTimerView.tsx`           | ã‚³ã‚¢æ©Ÿèƒ½ã®View                             |
| ğŸŸ¡ Medium | `BasicTimerView.tsx`            | æœ€ã‚‚ã‚ˆãä½¿ã‚ã‚Œã‚‹View                       |
| ğŸŸ¡ Medium | `EnhancedPomodoroTimerView.tsx` | ãƒãƒ¢ãƒ‰ãƒ¼ãƒ­View                             |
| ğŸŸ¡ Medium | `MultiTimerView.tsx`            | ãƒãƒ«ãƒã‚¿ã‚¤ãƒãƒ¼View                         |
| ğŸŸ¡ Medium | `SettingsDialog.tsx`            | PAT/AIè¨­å®šã®ä¿å­˜ãƒ•ãƒ­ãƒ¼                     |
| ğŸŸ¡ Medium | `GitHubIssueLinking.tsx`        | GitHubé€£æºãƒ•ãƒ­ãƒ¼                           |
| ğŸŸ¢ Low    | `MeetingReportDialog.tsx`       | ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆãƒ•ãƒ­ãƒ¼                         |
| ğŸŸ¢ Low    | `MeetingReportHistory.tsx`      | å±¥æ­´è¡¨ç¤º                                   |
| ğŸŸ¢ Low    | `TimerHistory.tsx`              | å±¥æ­´è¡¨ç¤º                                   |
| ğŸŸ¢ Low    | ã‚³ãƒ³ãƒ†ãƒŠå…¨èˆ¬                    | é…ç·šã®ã¿ãƒ»E2E ã§ã‚«ãƒãƒ¼æ¨å¥¨                 |

---

## 6. å“è³ªãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ˆPRå‰ï¼‰

- [ ] `npm run type-check` ãŒæˆåŠŸ
- [ ] `npm run test:run` ãŒæˆåŠŸ
- [ ] æ–°è¦ãƒ†ã‚¹ãƒˆãŒ `describe` éšå±¤ã§æ•´ç†ã•ã‚Œã¦ã„ã‚‹
- [ ] `beforeEach` ã§ã‚¹ãƒˆã‚¢ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¦ã„ã‚‹
- [ ] ãƒ¢ãƒƒã‚¯å¾Œã® `vi.clearAllMocks()` ã¾ãŸã¯ `vi.restoreAllMocks()` ãŒã‚ã‚‹
- [ ] è¦ä»¶å¤‰æ›´ã‚’ä¼´ã†å ´åˆ `TEST_INVENTORY.md` ã‚’æ›´æ–°
- [ ] è¿½åŠ ã‚±ãƒ¼ã‚¹ã¯ãƒ†ã‚¹ãƒˆè¨­è¨ˆæ›¸ã® TC ç•ªå·ã¨ä¸€è‡´ã™ã‚‹
